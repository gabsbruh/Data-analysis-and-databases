<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel Szewczyk">
<meta name="dcterms.date" content="2023-11-23">

<title>Zadanie 6. Wprowadzenie do tidyverse</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="lab6_files/libs/clipboard/clipboard.min.js"></script>
<script src="lab6_files/libs/quarto-html/quarto.js"></script>
<script src="lab6_files/libs/quarto-html/popper.min.js"></script>
<script src="lab6_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="lab6_files/libs/quarto-html/anchor.min.js"></script>
<link href="lab6_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lab6_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="lab6_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="lab6_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="lab6_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Zadanie 6. Wprowadzenie do tidyverse</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel Szewczyk </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 23, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<!-- > to strzalka -->
<!-- x %>% sin() %>% cos() - wrapowanie funkcji-->
<section id="załadowanie-paczek" class="level3">
<h3 class="anchored" data-anchor-id="załadowanie-paczek">Załadowanie paczek</h3>
<p>przez fakt identycznych nazw funkcji sortowania data.frame’ów w paczce za pomocą biblioteki ‘conflicted’ wybrałem paczki które należy traktować jako pierwsze domyślne.</p>
<p>zobrazowanie przykładowej pierwszego wiersza danych z bazy nycflights13</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.4     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">library</span>(nycflights13)</span>
<span id="cb3-2"><a href="#cb3-2"></a>fl <span class="ot">&lt;-</span> flights</span>
<span id="cb3-3"><a href="#cb3-3"></a>fl[<span class="dv">1</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">month</th>
<th style="text-align: right;">day</th>
<th style="text-align: right;">dep_time</th>
<th style="text-align: right;">sched_dep_time</th>
<th style="text-align: right;">dep_delay</th>
<th style="text-align: right;">arr_time</th>
<th style="text-align: right;">sched_arr_time</th>
<th style="text-align: right;">arr_delay</th>
<th style="text-align: left;">carrier</th>
<th style="text-align: right;">flight</th>
<th style="text-align: left;">tailnum</th>
<th style="text-align: left;">origin</th>
<th style="text-align: left;">dest</th>
<th style="text-align: right;">air_time</th>
<th style="text-align: right;">distance</th>
<th style="text-align: right;">hour</th>
<th style="text-align: right;">minute</th>
<th style="text-align: left;">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">517</td>
<td style="text-align: right;">515</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">830</td>
<td style="text-align: right;">819</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">UA</td>
<td style="text-align: right;">1545</td>
<td style="text-align: left;">N14228</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">IAH</td>
<td style="text-align: right;">227</td>
<td style="text-align: right;">1400</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">2013-01-01 05:00:00</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="zadanie-1." class="level3">
<h3 class="anchored" data-anchor-id="zadanie-1.">Zadanie 1.</h3>
<p>Korzystając z dokumentacji pakietu i podglądając zawartość tabeli opisać co znaczą wszystkie zmienne oraz jakich są typów. Wyjaśnić też co oznaczają poszczególne kody.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>wyniki <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">nazwa_kolumny =</span> <span class="fu">character</span>(), <span class="at">typ_danych =</span> <span class="fu">character</span>(), <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="cf">for</span> (kolumna <span class="cf">in</span> <span class="fu">names</span>(fl)) {</span>
<span id="cb4-3"><a href="#cb4-3"></a>  datatype <span class="ot">&lt;-</span> <span class="fu">typeof</span>(fl[[kolumna]])</span>
<span id="cb4-4"><a href="#cb4-4"></a>  wyniki <span class="ot">&lt;-</span> <span class="fu">rbind</span>(wyniki, <span class="fu">data.frame</span>(<span class="at">nazwa_kolumny =</span> kolumna, <span class="at">typ_danych =</span> datatype, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>))</span>
<span id="cb4-5"><a href="#cb4-5"></a>}</span>
<span id="cb4-6"><a href="#cb4-6"></a>wyniki</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">nazwa_kolumny</th>
<th style="text-align: left;">typ_danych</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">year</td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="even">
<td style="text-align: left;">month</td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">day</td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="even">
<td style="text-align: left;">dep_time</td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sched_dep_time</td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="even">
<td style="text-align: left;">dep_delay</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arr_time</td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="even">
<td style="text-align: left;">sched_arr_time</td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arr_delay</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="even">
<td style="text-align: left;">carrier</td>
<td style="text-align: left;">character</td>
</tr>
<tr class="odd">
<td style="text-align: left;">flight</td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="even">
<td style="text-align: left;">tailnum</td>
<td style="text-align: left;">character</td>
</tr>
<tr class="odd">
<td style="text-align: left;">origin</td>
<td style="text-align: left;">character</td>
</tr>
<tr class="even">
<td style="text-align: left;">dest</td>
<td style="text-align: left;">character</td>
</tr>
<tr class="odd">
<td style="text-align: left;">air_time</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="even">
<td style="text-align: left;">distance</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hour</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="even">
<td style="text-align: left;">minute</td>
<td style="text-align: left;">double</td>
</tr>
<tr class="odd">
<td style="text-align: left;">time_hour</td>
<td style="text-align: left;">double</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>To samo zadanie można było zrealizowac za pomocą funkcji <strong>glimpse()</strong></p>
</section>
<section id="zadanie-2." class="level3">
<h3 class="anchored" data-anchor-id="zadanie-2.">Zadanie 2.</h3>
<p>Za pomocą pojedynczego pipelina na każdy warunek, znajdź wszystkie loty, które:<br>
</p>
<ul>
<li>Miały opóźnienie o co najmniej 2 godziny.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>opoznienie_120 <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(dep_delay <span class="sc">&gt;=</span> <span class="dv">120</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów opóźnionych o min. 2 godziny: "</span>, <span class="fu">nrow</span>(opoznienie_120))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ilość lotów opóźnionych o min. 2 godziny:  9888</code></pre>
</div>
</div>
<p>Podałem ilość tych lotów nie wypisując ich, ponieważ było ich za wiele.<br> - <em>dep_delay oznaczajacy opoznienie jest podany w minutach</em><br> - <em>czasy odlotów rzeczywistych i planowanych są podane integerem, w którym to 2 cyfry od prawej oznaczaja minute, pozostale godzine</em><br><br></p>
<ul>
<li><strong>Leciały do Huston (IAH lub HOU)</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>huston <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(dest <span class="sc">==</span> <span class="st">'IAH'</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">'HOU'</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów w kierunku Huston: "</span>, <span class="fu">nrow</span>(huston))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ilość lotów w kierunku Huston:  9313</code></pre>
</div>
</div>
<ul>
<li><strong>Były z lini lotniczych United, American, lub Delta</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>carriers <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">distinct</span>(carrier)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">cat</span>(<span class="st">"rodzaje przewoźników"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>rodzaje przewoźników</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>carriers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">carrier</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">UA</td>
</tr>
<tr class="even">
<td style="text-align: left;">AA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">B6</td>
</tr>
<tr class="even">
<td style="text-align: left;">DL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">EV</td>
</tr>
<tr class="even">
<td style="text-align: left;">MQ</td>
</tr>
<tr class="odd">
<td style="text-align: left;">US</td>
</tr>
<tr class="even">
<td style="text-align: left;">WN</td>
</tr>
<tr class="odd">
<td style="text-align: left;">VX</td>
</tr>
<tr class="even">
<td style="text-align: left;">FL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AS</td>
</tr>
<tr class="even">
<td style="text-align: left;">9E</td>
</tr>
<tr class="odd">
<td style="text-align: left;">F9</td>
</tr>
<tr class="even">
<td style="text-align: left;">HA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">YV</td>
</tr>
<tr class="even">
<td style="text-align: left;">OO</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><em>wspomagając się danymi z internetu, United ma skrót UA, American - AA, natomiast delta - DL</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>uad <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(carrier <span class="sc">==</span> <span class="st">'UA'</span> <span class="sc">|</span> carrier <span class="sc">==</span> <span class="st">'AA'</span> <span class="sc">|</span> carrier <span class="sc">==</span> <span class="st">'DL'</span>)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów zrealizowanych przez United, American lub delta: "</span>, <span class="fu">nrow</span>(uad))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ilość lotów zrealizowanych przez United, American lub delta:  139504</code></pre>
</div>
</div>
<ul>
<li><strong>Wylatywały w lecie (Lipiec, Sierpień, Wrzesień)</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>summer <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(month <span class="sc">==</span> <span class="dv">7</span> <span class="sc">|</span> month <span class="sc">==</span> <span class="dv">8</span> <span class="sc">|</span> month <span class="sc">==</span> <span class="dv">9</span>)</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów zrealizowanych w lecie: "</span>, <span class="fu">nrow</span>(summer))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ilość lotów zrealizowanych w lecie:  86326</code></pre>
</div>
</div>
<ul>
<li><strong>Miały opóźnienie o co najmniej dwie godziny ale nie miały opóźnienia odlotu.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>arr_delay_wo_dep_delay <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(arr_delay <span class="sc">&gt;=</span> <span class="dv">120</span> <span class="sc">&amp;</span> dep_delay <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów z opóźnieniem min. 2godzinnym, lecz ze startem na czas: "</span>, <span class="fu">nrow</span>(arr_delay_wo_dep_delay))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ilość lotów z opóźnieniem min. 2godzinnym, lecz ze startem na czas:  3</code></pre>
</div>
</div>
<ul>
<li><strong>Miały co najmniej godzinę opóźnienia ale odrobiły ponad 30 minut w trakcie lotu.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>made_up_during_flight <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>((dep_delay <span class="sc">&gt;=</span> <span class="dv">60</span>) <span class="sc">&amp;</span> (dep_delay<span class="sc">-</span>arr_delay <span class="sc">&lt;</span> <span class="dv">30</span>))</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów z godzinnym opóźnieniem wylotu, lecz opóźnieniem przylotu o ponad pół godziny mniejszym: "</span>, <span class="fu">nrow</span>(made_up_during_flight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Ilość lotów z godzinnym opóźnieniem wylotu, lecz opóźnieniem przylotu o ponad pół godziny mniejszym:  24728</code></pre>
</div>
</div>
<ul>
<li><strong>Posortuj loty by znaleźć loty z najdłuższym opóźnieniem odlotu. Znajdź loty, który odlatywały najwcześniej rano.</strong></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>sorted_del <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(dep_delay))</span>
<span id="cb20-2"><a href="#cb20-2"></a>first_10_del <span class="ot">&lt;-</span> <span class="fu">head</span>(sorted_del, <span class="dv">10</span>)</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="fu">cat</span>(<span class="st">'10 wyników z największym opóźnieniem odlotu'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>10 wyników z największym opóźnieniem odlotu</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>first_10_del</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">month</th>
<th style="text-align: right;">day</th>
<th style="text-align: right;">dep_time</th>
<th style="text-align: right;">sched_dep_time</th>
<th style="text-align: right;">dep_delay</th>
<th style="text-align: right;">arr_time</th>
<th style="text-align: right;">sched_arr_time</th>
<th style="text-align: right;">arr_delay</th>
<th style="text-align: left;">carrier</th>
<th style="text-align: right;">flight</th>
<th style="text-align: left;">tailnum</th>
<th style="text-align: left;">origin</th>
<th style="text-align: left;">dest</th>
<th style="text-align: right;">air_time</th>
<th style="text-align: right;">distance</th>
<th style="text-align: right;">hour</th>
<th style="text-align: right;">minute</th>
<th style="text-align: left;">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">641</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">1301</td>
<td style="text-align: right;">1242</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">1272</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N384HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">640</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-09 09:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">1432</td>
<td style="text-align: right;">1935</td>
<td style="text-align: right;">1137</td>
<td style="text-align: right;">1607</td>
<td style="text-align: right;">2120</td>
<td style="text-align: right;">1127</td>
<td style="text-align: left;">MQ</td>
<td style="text-align: right;">3535</td>
<td style="text-align: left;">N504MQ</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">CMH</td>
<td style="text-align: right;">74</td>
<td style="text-align: right;">483</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">2013-06-15 19:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1121</td>
<td style="text-align: right;">1635</td>
<td style="text-align: right;">1126</td>
<td style="text-align: right;">1239</td>
<td style="text-align: right;">1810</td>
<td style="text-align: right;">1109</td>
<td style="text-align: left;">MQ</td>
<td style="text-align: right;">3695</td>
<td style="text-align: left;">N517MQ</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">ORD</td>
<td style="text-align: right;">111</td>
<td style="text-align: right;">719</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">2013-01-10 16:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">1139</td>
<td style="text-align: right;">1845</td>
<td style="text-align: right;">1014</td>
<td style="text-align: right;">1457</td>
<td style="text-align: right;">2210</td>
<td style="text-align: right;">1007</td>
<td style="text-align: left;">AA</td>
<td style="text-align: right;">177</td>
<td style="text-align: left;">N338AA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">SFO</td>
<td style="text-align: right;">354</td>
<td style="text-align: right;">2586</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">2013-09-20 18:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">845</td>
<td style="text-align: right;">1600</td>
<td style="text-align: right;">1005</td>
<td style="text-align: right;">1044</td>
<td style="text-align: right;">1815</td>
<td style="text-align: right;">989</td>
<td style="text-align: left;">MQ</td>
<td style="text-align: right;">3075</td>
<td style="text-align: left;">N665MQ</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">CVG</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">589</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-07-22 16:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1100</td>
<td style="text-align: right;">1900</td>
<td style="text-align: right;">960</td>
<td style="text-align: right;">1342</td>
<td style="text-align: right;">2211</td>
<td style="text-align: right;">931</td>
<td style="text-align: left;">DL</td>
<td style="text-align: right;">2391</td>
<td style="text-align: left;">N959DL</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">TPA</td>
<td style="text-align: right;">139</td>
<td style="text-align: right;">1005</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-04-10 19:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">2321</td>
<td style="text-align: right;">810</td>
<td style="text-align: right;">911</td>
<td style="text-align: right;">135</td>
<td style="text-align: right;">1020</td>
<td style="text-align: right;">915</td>
<td style="text-align: left;">DL</td>
<td style="text-align: right;">2119</td>
<td style="text-align: left;">N927DA</td>
<td style="text-align: left;">LGA</td>
<td style="text-align: left;">MSP</td>
<td style="text-align: right;">167</td>
<td style="text-align: right;">1020</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">2013-03-17 08:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">959</td>
<td style="text-align: right;">1900</td>
<td style="text-align: right;">899</td>
<td style="text-align: right;">1236</td>
<td style="text-align: right;">2226</td>
<td style="text-align: right;">850</td>
<td style="text-align: left;">DL</td>
<td style="text-align: right;">2007</td>
<td style="text-align: left;">N3762Y</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">PDX</td>
<td style="text-align: right;">313</td>
<td style="text-align: right;">2454</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-06-27 19:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">2257</td>
<td style="text-align: right;">759</td>
<td style="text-align: right;">898</td>
<td style="text-align: right;">121</td>
<td style="text-align: right;">1026</td>
<td style="text-align: right;">895</td>
<td style="text-align: left;">DL</td>
<td style="text-align: right;">2047</td>
<td style="text-align: left;">N6716C</td>
<td style="text-align: left;">LGA</td>
<td style="text-align: left;">ATL</td>
<td style="text-align: right;">109</td>
<td style="text-align: right;">762</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">59</td>
<td style="text-align: left;">2013-07-22 07:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">756</td>
<td style="text-align: right;">1700</td>
<td style="text-align: right;">896</td>
<td style="text-align: right;">1058</td>
<td style="text-align: right;">2020</td>
<td style="text-align: right;">878</td>
<td style="text-align: left;">AA</td>
<td style="text-align: right;">172</td>
<td style="text-align: left;">N5DMAA</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">MIA</td>
<td style="text-align: right;">149</td>
<td style="text-align: right;">1085</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-12-05 17:00:00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>sorted_early <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">arrange</span>(sched_dep_time, dep_time, dep_delay)</span>
<span id="cb23-2"><a href="#cb23-2"></a>first_10_early <span class="ot">&lt;-</span> <span class="fu">head</span>(sorted_early, <span class="dv">10</span>)</span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="fu">cat</span>(<span class="st">'10 najwcześniejszych odlotów(wszystkie o 0:01), posortowane najmniejszym opoznieniem'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>10 najwcześniejszych odlotów(wszystkie o 0:01), posortowane najmniejszym opoznieniem</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>first_10_early</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">month</th>
<th style="text-align: right;">day</th>
<th style="text-align: right;">dep_time</th>
<th style="text-align: right;">sched_dep_time</th>
<th style="text-align: right;">dep_delay</th>
<th style="text-align: right;">arr_time</th>
<th style="text-align: right;">sched_arr_time</th>
<th style="text-align: right;">arr_delay</th>
<th style="text-align: left;">carrier</th>
<th style="text-align: right;">flight</th>
<th style="text-align: left;">tailnum</th>
<th style="text-align: left;">origin</th>
<th style="text-align: left;">dest</th>
<th style="text-align: right;">air_time</th>
<th style="text-align: right;">distance</th>
<th style="text-align: right;">hour</th>
<th style="text-align: right;">minute</th>
<th style="text-align: left;">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">245</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1632</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">LGA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">2013-07-27 01:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">445</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">-15</td>
<td style="text-align: right;">620</td>
<td style="text-align: right;">640</td>
<td style="text-align: right;">-20</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1431</td>
<td style="text-align: left;">N537UW</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">CLT</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">529</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-05-08 05:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">446</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">-14</td>
<td style="text-align: right;">636</td>
<td style="text-align: right;">640</td>
<td style="text-align: right;">-4</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1579</td>
<td style="text-align: left;">N768US</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">CLT</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">529</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-05-05 05:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">446</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">-14</td>
<td style="text-align: right;">618</td>
<td style="text-align: right;">648</td>
<td style="text-align: right;">-30</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1877</td>
<td style="text-align: left;">N567UW</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">CLT</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">529</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-09-04 05:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">447</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">-13</td>
<td style="text-align: right;">614</td>
<td style="text-align: right;">648</td>
<td style="text-align: right;">-34</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1877</td>
<td style="text-align: left;">N538UW</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">CLT</td>
<td style="text-align: right;">69</td>
<td style="text-align: right;">529</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-10-01 05:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">447</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">-13</td>
<td style="text-align: right;">620</td>
<td style="text-align: right;">648</td>
<td style="text-align: right;">-28</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1877</td>
<td style="text-align: left;">N199UW</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">CLT</td>
<td style="text-align: right;">81</td>
<td style="text-align: right;">529</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-09-19 05:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">448</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">-12</td>
<td style="text-align: right;">635</td>
<td style="text-align: right;">648</td>
<td style="text-align: right;">-13</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1117</td>
<td style="text-align: left;">N172US</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">CLT</td>
<td style="text-align: right;">88</td>
<td style="text-align: right;">529</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-29 05:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">448</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">-12</td>
<td style="text-align: right;">648</td>
<td style="text-align: right;">651</td>
<td style="text-align: right;">-3</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1895</td>
<td style="text-align: left;">N543UW</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">CLT</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">529</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-12-27 05:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">448</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">-12</td>
<td style="text-align: right;">624</td>
<td style="text-align: right;">640</td>
<td style="text-align: right;">-16</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1099</td>
<td style="text-align: left;">N565UW</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">CLT</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">529</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-05-07 05:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">449</td>
<td style="text-align: right;">500</td>
<td style="text-align: right;">-11</td>
<td style="text-align: right;">620</td>
<td style="text-align: right;">648</td>
<td style="text-align: right;">-28</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1877</td>
<td style="text-align: left;">N193UW</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">CLT</td>
<td style="text-align: right;">73</td>
<td style="text-align: right;">529</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-10-02 05:00:00</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><em>Musiałem oddzielić oba przypadki (najdłuższe opóźnienie, najwcześniej rano), ponieważ nie dostrzegłem koorelacji między nimi. Posortowane przez najdłuższe opóźnienie, gdzie każde się różniło, sprawiało że sortowanie przez najwcześniej rano nic nie zmieniało.</em></p>
</section>
<section id="zadanie-3." class="level3">
<h3 class="anchored" data-anchor-id="zadanie-3.">Zadanie 3.</h3>
<p><strong>Posortuj loty by znaleźć najszybsze połączenia.</strong> <em>Najszybsze połączenia względem czasu lotu, drugorzędnie różnicy planowanego odlotu i przylotu</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>fastest <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">sched_air_time =</span> sched_arr_time <span class="sc">-</span> sched_dep_time) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(air_time, sched_air_time)</span>
<span id="cb26-2"><a href="#cb26-2"></a>first_10_fastest <span class="ot">&lt;-</span> <span class="fu">head</span>(fastest, <span class="dv">10</span>)</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="fu">cat</span>(<span class="st">'Najszybsze połączenia:'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Najszybsze połączenia:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>first_10_fastest</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 10%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">month</th>
<th style="text-align: right;">day</th>
<th style="text-align: right;">dep_time</th>
<th style="text-align: right;">sched_dep_time</th>
<th style="text-align: right;">dep_delay</th>
<th style="text-align: right;">arr_time</th>
<th style="text-align: right;">sched_arr_time</th>
<th style="text-align: right;">arr_delay</th>
<th style="text-align: left;">carrier</th>
<th style="text-align: right;">flight</th>
<th style="text-align: left;">tailnum</th>
<th style="text-align: left;">origin</th>
<th style="text-align: left;">dest</th>
<th style="text-align: right;">air_time</th>
<th style="text-align: right;">distance</th>
<th style="text-align: right;">hour</th>
<th style="text-align: right;">minute</th>
<th style="text-align: left;">time_hour</th>
<th style="text-align: right;">sched_air_time</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">1355</td>
<td style="text-align: right;">1315</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">1442</td>
<td style="text-align: right;">1411</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4368</td>
<td style="text-align: left;">N16911</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">BDL</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">2013-01-16 13:00:00</td>
<td style="text-align: right;">96</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">537</td>
<td style="text-align: right;">527</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">622</td>
<td style="text-align: right;">628</td>
<td style="text-align: right;">-6</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4631</td>
<td style="text-align: left;">N12167</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">BDL</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">27</td>
<td style="text-align: left;">2013-04-13 05:00:00</td>
<td style="text-align: right;">101</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2153</td>
<td style="text-align: right;">2129</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">2247</td>
<td style="text-align: right;">2224</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4619</td>
<td style="text-align: left;">N13913</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">2013-02-03 21:00:00</td>
<td style="text-align: right;">95</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">2123</td>
<td style="text-align: right;">2130</td>
<td style="text-align: right;">-7</td>
<td style="text-align: right;">2211</td>
<td style="text-align: right;">2225</td>
<td style="text-align: right;">-14</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4619</td>
<td style="text-align: left;">N12921</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">2013-02-12 21:00:00</td>
<td style="text-align: right;">95</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">1303</td>
<td style="text-align: right;">1315</td>
<td style="text-align: right;">-12</td>
<td style="text-align: right;">1342</td>
<td style="text-align: right;">1411</td>
<td style="text-align: right;">-29</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4368</td>
<td style="text-align: left;">N13955</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">BDL</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">2013-02-05 13:00:00</td>
<td style="text-align: right;">96</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">1129</td>
<td style="text-align: right;">1138</td>
<td style="text-align: right;">-9</td>
<td style="text-align: right;">1206</td>
<td style="text-align: right;">1234</td>
<td style="text-align: right;">-28</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4577</td>
<td style="text-align: left;">N18101</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">BDL</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">38</td>
<td style="text-align: left;">2013-08-18 11:00:00</td>
<td style="text-align: right;">96</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">1456</td>
<td style="text-align: right;">1329</td>
<td style="text-align: right;">87</td>
<td style="text-align: right;">1533</td>
<td style="text-align: right;">1426</td>
<td style="text-align: right;">67</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4118</td>
<td style="text-align: left;">N12160</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">BDL</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">2013-03-18 13:00:00</td>
<td style="text-align: right;">97</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">722</td>
<td style="text-align: right;">725</td>
<td style="text-align: right;">-3</td>
<td style="text-align: right;">804</td>
<td style="text-align: right;">822</td>
<td style="text-align: right;">-18</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">6062</td>
<td style="text-align: left;">N14920</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">BDL</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">25</td>
<td style="text-align: left;">2013-09-03 07:00:00</td>
<td style="text-align: right;">97</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">1203</td>
<td style="text-align: right;">1153</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">1238</td>
<td style="text-align: right;">1250</td>
<td style="text-align: right;">-12</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">3847</td>
<td style="text-align: left;">N29906</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">BDL</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">2013-09-03 11:00:00</td>
<td style="text-align: right;">97</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">2226</td>
<td style="text-align: right;">2145</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">2305</td>
<td style="text-align: right;">2246</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4276</td>
<td style="text-align: left;">N16987</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">BDL</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">116</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">2013-03-19 21:00:00</td>
<td style="text-align: right;">101</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="zadanie-4." class="level3">
<h3 class="anchored" data-anchor-id="zadanie-4.">Zadanie 4.</h3>
<p><strong>Czy każdego dnia 2013 odbył się co najmniej jeden lot?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>flights_data <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2013</span>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">paste</span>(month, day, <span class="st">'2013'</span>, <span class="at">sep =</span> <span class="st">"-"</span>))</span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="co"># scalam miesiac i dzien z roku 2013 w jedna kolumne data</span></span>
<span id="cb29-3"><a href="#cb29-3"></a></span>
<span id="cb29-4"><a href="#cb29-4"></a>daily_flights_summary <span class="ot">&lt;-</span> flights_data <span class="sc">|&gt;</span> <span class="fu">arrange</span>(date) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">any_flight =</span> <span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>any_flight)</span>
<span id="cb29-5"><a href="#cb29-5"></a><span class="co"># tworze ramke danych z kolumna daty oraz warunkiem czy jakikolwiek lot odbyl sie tego dnia</span></span>
<span id="cb29-6"><a href="#cb29-6"></a><span class="fu">cat</span>(<span class="st">"Tabeka z datami, których nie odbł się żaden lot:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tabeka z datami, których nie odbł się żaden lot:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>daily_flights_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">any_flight</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>
</div>
</div>
<p><em>W 2013 nie było dnia w którym żaden lot by się nie odbył.</em></p>
</section>
<section id="zadanie-5." class="level3">
<h3 class="anchored" data-anchor-id="zadanie-5.">Zadanie 5.</h3>
<p><strong>Które loty pokonały największy dystans a które najkrótszy?</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>length_of_flight <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(distance))</span>
<span id="cb32-2"><a href="#cb32-2"></a>longest <span class="ot">&lt;-</span> <span class="fu">head</span>(length_of_flight, <span class="dv">10</span>)</span>
<span id="cb32-3"><a href="#cb32-3"></a>shortest <span class="ot">&lt;-</span> <span class="fu">tail</span>(length_of_flight, <span class="dv">10</span>)</span>
<span id="cb32-4"><a href="#cb32-4"></a></span>
<span id="cb32-5"><a href="#cb32-5"></a><span class="fu">cat</span>(<span class="st">'Najdłuższe loty względem dystansu:'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Najdłuższe loty względem dystansu:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>longest</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">month</th>
<th style="text-align: right;">day</th>
<th style="text-align: right;">dep_time</th>
<th style="text-align: right;">sched_dep_time</th>
<th style="text-align: right;">dep_delay</th>
<th style="text-align: right;">arr_time</th>
<th style="text-align: right;">sched_arr_time</th>
<th style="text-align: right;">arr_delay</th>
<th style="text-align: left;">carrier</th>
<th style="text-align: right;">flight</th>
<th style="text-align: left;">tailnum</th>
<th style="text-align: left;">origin</th>
<th style="text-align: left;">dest</th>
<th style="text-align: right;">air_time</th>
<th style="text-align: right;">distance</th>
<th style="text-align: right;">hour</th>
<th style="text-align: right;">minute</th>
<th style="text-align: left;">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">857</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">-3</td>
<td style="text-align: right;">1516</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">-14</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N380HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">659</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-01 09:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">909</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">1525</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">-5</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N380HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">638</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-02 09:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">914</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">1504</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">-26</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N380HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">616</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-03 09:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1516</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">-14</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N384HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">639</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-04 09:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">858</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">-2</td>
<td style="text-align: right;">1519</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">-11</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N381HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">635</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-05 09:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">1019</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">1558</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">28</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N385HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">611</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-06 09:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">1042</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">102</td>
<td style="text-align: right;">1620</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N385HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">612</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-07 09:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">901</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1504</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">-26</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N389HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">645</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-08 09:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">641</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">1301</td>
<td style="text-align: right;">1242</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">1272</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N384HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">640</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-09 09:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">859</td>
<td style="text-align: right;">900</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">1449</td>
<td style="text-align: right;">1530</td>
<td style="text-align: right;">-41</td>
<td style="text-align: left;">HA</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">N388HA</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: left;">HNL</td>
<td style="text-align: right;">633</td>
<td style="text-align: right;">4983</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-01-10 09:00:00</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">cat</span>(<span class="st">'Najkrótsze loty względem dystansu:'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Najkrótsze loty względem dystansu:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>shortest</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="kable-table">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">year</th>
<th style="text-align: right;">month</th>
<th style="text-align: right;">day</th>
<th style="text-align: right;">dep_time</th>
<th style="text-align: right;">sched_dep_time</th>
<th style="text-align: right;">dep_delay</th>
<th style="text-align: right;">arr_time</th>
<th style="text-align: right;">sched_arr_time</th>
<th style="text-align: right;">arr_delay</th>
<th style="text-align: left;">carrier</th>
<th style="text-align: right;">flight</th>
<th style="text-align: left;">tailnum</th>
<th style="text-align: left;">origin</th>
<th style="text-align: left;">dest</th>
<th style="text-align: right;">air_time</th>
<th style="text-align: right;">distance</th>
<th style="text-align: right;">hour</th>
<th style="text-align: right;">minute</th>
<th style="text-align: left;">time_hour</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">2127</td>
<td style="text-align: right;">2129</td>
<td style="text-align: right;">-2</td>
<td style="text-align: right;">2209</td>
<td style="text-align: right;">2224</td>
<td style="text-align: right;">-15</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4619</td>
<td style="text-align: left;">N41104</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">2013-02-10 21:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">2305</td>
<td style="text-align: right;">2129</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2224</td>
<td style="text-align: right;">99</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4619</td>
<td style="text-align: left;">N11565</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">2013-02-11 21:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">2123</td>
<td style="text-align: right;">2130</td>
<td style="text-align: right;">-7</td>
<td style="text-align: right;">2211</td>
<td style="text-align: right;">2225</td>
<td style="text-align: right;">-14</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4619</td>
<td style="text-align: left;">N12921</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">2013-02-12 21:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1926</td>
<td style="text-align: right;">1929</td>
<td style="text-align: right;">-3</td>
<td style="text-align: right;">2011</td>
<td style="text-align: right;">2023</td>
<td style="text-align: right;">-12</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4457</td>
<td style="text-align: left;">N21144</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">2013-03-02 19:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">1959</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">-1</td>
<td style="text-align: right;">2052</td>
<td style="text-align: right;">2054</td>
<td style="text-align: right;">-2</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4457</td>
<td style="text-align: left;">N19554</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">2013-03-09 20:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">1947</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">-3</td>
<td style="text-align: right;">2055</td>
<td style="text-align: right;">2044</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4457</td>
<td style="text-align: left;">N48901</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">2013-03-16 19:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">1946</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">-4</td>
<td style="text-align: right;">2030</td>
<td style="text-align: right;">2044</td>
<td style="text-align: right;">-14</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4457</td>
<td style="text-align: left;">N13994</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">2013-03-23 19:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">1942</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">-8</td>
<td style="text-align: right;">2026</td>
<td style="text-align: right;">2044</td>
<td style="text-align: right;">-18</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4457</td>
<td style="text-align: left;">N12569</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">2013-03-30 19:00:00</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">1948</td>
<td style="text-align: right;">1950</td>
<td style="text-align: right;">-2</td>
<td style="text-align: right;">2034</td>
<td style="text-align: right;">2044</td>
<td style="text-align: right;">-10</td>
<td style="text-align: left;">EV</td>
<td style="text-align: right;">4457</td>
<td style="text-align: left;">N29917</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">PHL</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">2013-04-06 19:00:00</td>
</tr>
<tr class="even">
<td style="text-align: right;">2013</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">245</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">US</td>
<td style="text-align: right;">1632</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">EWR</td>
<td style="text-align: left;">LGA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">2013-07-27 01:00:00</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="zadanie-6." class="level3">
<h3 class="anchored" data-anchor-id="zadanie-6.">Zadanie 6.</h3>
<p><strong>Czy kolejność używania filter() i arrange() ma znaczenie jeśli używasz obydwu? Dlaczego tak/nie? Weź pod uwagę zarówno rezultaty jak też i zużycie zasobów.</strong></p>
<p><em>Ma znaczenie, pierwszorzędnie to widać biorąc pod uwagę zużycie zasobów. Wybierając początkowo funkcję filter(), od razu pracujemy na mniejszym zbiorze danych, przez co arrange() ma mniejszą ilość danych do posortowania i optymalizuje to czas wykonania.</em><br><br> <em>Zamieniając kolejność, początkowo sortując ramkę danych, dane są sortowane przed zastosowaniem filtra, co zmieni kolejność przefiltrowanych wyników.</em></p>
<!-- -->

</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb38" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb38-1"><a href="#cb38-1"></a><span class="co">---</span></span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="an">title:</span><span class="co"> "Zadanie 6. Wprowadzenie do tidyverse"</span></span>
<span id="cb38-3"><a href="#cb38-3"></a><span class="an">author:</span><span class="co"> "Gabriel Szewczyk"</span></span>
<span id="cb38-4"><a href="#cb38-4"></a><span class="an">date:</span><span class="co"> 11.23.2023</span></span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb38-6"><a href="#cb38-6"></a><span class="co">  html:</span></span>
<span id="cb38-7"><a href="#cb38-7"></a><span class="co">    page-layout: full</span></span>
<span id="cb38-8"><a href="#cb38-8"></a><span class="co">    code-fold: false</span></span>
<span id="cb38-9"><a href="#cb38-9"></a><span class="co">    code-tools: true</span></span>
<span id="cb38-10"><a href="#cb38-10"></a><span class="co">    code-line-numbers: true</span></span>
<span id="cb38-11"><a href="#cb38-11"></a><span class="co">    fontsize: 18pt</span></span>
<span id="cb38-12"><a href="#cb38-12"></a><span class="co">    df-print: kable</span></span>
<span id="cb38-13"><a href="#cb38-13"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb38-14"><a href="#cb38-14"></a><span class="co">---</span></span>
<span id="cb38-15"><a href="#cb38-15"></a></span>
<span id="cb38-16"><a href="#cb38-16"></a><span class="co">&lt;!-- &gt; to strzalka --&gt;</span></span>
<span id="cb38-17"><a href="#cb38-17"></a><span class="co">&lt;!-- x %&gt;% sin() %&gt;% cos() - wrapowanie funkcji--&gt;</span> </span>
<span id="cb38-18"><a href="#cb38-18"></a></span>
<span id="cb38-19"><a href="#cb38-19"></a><span class="fu">### Załadowanie paczek</span></span>
<span id="cb38-20"><a href="#cb38-20"></a>przez fakt identycznych nazw funkcji sortowania data.frame'ów w paczce za pomocą biblioteki 'conflicted' wybrałem paczki które należy traktować jako pierwsze domyślne.</span>
<span id="cb38-21"><a href="#cb38-21"></a></span>
<span id="cb38-22"><a href="#cb38-22"></a>zobrazowanie przykładowej pierwszego wiersza danych z bazy nycflights13</span>
<span id="cb38-23"><a href="#cb38-23"></a><span class="in">```{r load, warning = FALSE}</span></span>
<span id="cb38-24"><a href="#cb38-24"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb38-25"><a href="#cb38-25"></a><span class="fu">library</span>(nycflights13)</span>
<span id="cb38-26"><a href="#cb38-26"></a>fl <span class="ot">&lt;-</span> flights</span>
<span id="cb38-27"><a href="#cb38-27"></a>fl[<span class="dv">1</span>,]</span>
<span id="cb38-28"><a href="#cb38-28"></a><span class="in">```</span></span>
<span id="cb38-29"><a href="#cb38-29"></a></span>
<span id="cb38-30"><a href="#cb38-30"></a><span class="fu">### Zadanie 1.</span></span>
<span id="cb38-31"><a href="#cb38-31"></a>Korzystając z dokumentacji pakietu i podglądając zawartość tabeli opisać co znaczą wszystkie zmienne oraz jakich są typów. Wyjaśnić też co oznaczają poszczególne kody.</span>
<span id="cb38-32"><a href="#cb38-32"></a></span>
<span id="cb38-33"><a href="#cb38-33"></a><span class="in">```{r flights}</span></span>
<span id="cb38-34"><a href="#cb38-34"></a></span>
<span id="cb38-35"><a href="#cb38-35"></a>wyniki <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">nazwa_kolumny =</span> <span class="fu">character</span>(), <span class="at">typ_danych =</span> <span class="fu">character</span>(), <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-36"><a href="#cb38-36"></a><span class="cf">for</span> (kolumna <span class="cf">in</span> <span class="fu">names</span>(fl)) {</span>
<span id="cb38-37"><a href="#cb38-37"></a>  datatype <span class="ot">&lt;-</span> <span class="fu">typeof</span>(fl[[kolumna]])</span>
<span id="cb38-38"><a href="#cb38-38"></a>  wyniki <span class="ot">&lt;-</span> <span class="fu">rbind</span>(wyniki, <span class="fu">data.frame</span>(<span class="at">nazwa_kolumny =</span> kolumna, <span class="at">typ_danych =</span> datatype, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>))</span>
<span id="cb38-39"><a href="#cb38-39"></a>}</span>
<span id="cb38-40"><a href="#cb38-40"></a>wyniki</span>
<span id="cb38-41"><a href="#cb38-41"></a></span>
<span id="cb38-42"><a href="#cb38-42"></a><span class="in">```</span></span>
<span id="cb38-43"><a href="#cb38-43"></a></span>
<span id="cb38-44"><a href="#cb38-44"></a>To samo zadanie można było zrealizowac za pomocą funkcji __glimpse()__</span>
<span id="cb38-45"><a href="#cb38-45"></a></span>
<span id="cb38-46"><a href="#cb38-46"></a><span class="fu">### Zadanie 2.</span></span>
<span id="cb38-47"><a href="#cb38-47"></a>Za pomocą pojedynczego pipelina na każdy warunek, znajdź wszystkie loty, które:\</span>
<span id="cb38-48"><a href="#cb38-48"></a></span>
<span id="cb38-49"><a href="#cb38-49"></a><span class="ss">* </span>Miały opóźnienie o co najmniej 2 godziny.</span>
<span id="cb38-50"><a href="#cb38-50"></a></span>
<span id="cb38-51"><a href="#cb38-51"></a><span class="in">```{r opoznienie 2h}</span></span>
<span id="cb38-52"><a href="#cb38-52"></a>opoznienie_120 <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(dep_delay <span class="sc">&gt;=</span> <span class="dv">120</span>)</span>
<span id="cb38-53"><a href="#cb38-53"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów opóźnionych o min. 2 godziny: "</span>, <span class="fu">nrow</span>(opoznienie_120))</span>
<span id="cb38-54"><a href="#cb38-54"></a><span class="in">```</span></span>
<span id="cb38-55"><a href="#cb38-55"></a></span>
<span id="cb38-56"><a href="#cb38-56"></a>Podałem ilość tych lotów nie wypisując ich, ponieważ było ich za wiele.<span class="kw">&lt;br</span> <span class="kw">/&gt;</span></span>
<span id="cb38-57"><a href="#cb38-57"></a><span class="ss">- </span>*dep_delay oznaczajacy opoznienie jest podany w minutach*<span class="kw">&lt;br</span> <span class="kw">/&gt;</span></span>
<span id="cb38-58"><a href="#cb38-58"></a><span class="ss">- </span>*czasy odlotów rzeczywistych i planowanych są podane integerem, w którym to 2 cyfry od prawej oznaczaja minute, pozostale godzine*<span class="kw">&lt;br</span> <span class="kw">/&gt;&lt;br</span> <span class="kw">/&gt;</span></span>
<span id="cb38-59"><a href="#cb38-59"></a></span>
<span id="cb38-60"><a href="#cb38-60"></a><span class="ss">* </span>**Leciały do Huston (IAH lub HOU)**</span>
<span id="cb38-61"><a href="#cb38-61"></a></span>
<span id="cb38-62"><a href="#cb38-62"></a><span class="in">```{r huston}</span></span>
<span id="cb38-63"><a href="#cb38-63"></a>huston <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(dest <span class="sc">==</span> <span class="st">'IAH'</span> <span class="sc">|</span> dest <span class="sc">==</span> <span class="st">'HOU'</span>)</span>
<span id="cb38-64"><a href="#cb38-64"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów w kierunku Huston: "</span>, <span class="fu">nrow</span>(huston))</span>
<span id="cb38-65"><a href="#cb38-65"></a><span class="in">```</span></span>
<span id="cb38-66"><a href="#cb38-66"></a></span>
<span id="cb38-67"><a href="#cb38-67"></a><span class="ss">* </span>**Były z lini lotniczych United, American, lub Delta**</span>
<span id="cb38-68"><a href="#cb38-68"></a></span>
<span id="cb38-69"><a href="#cb38-69"></a><span class="in">```{r linie lotnicze}</span></span>
<span id="cb38-70"><a href="#cb38-70"></a>carriers <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">distinct</span>(carrier)</span>
<span id="cb38-71"><a href="#cb38-71"></a><span class="fu">cat</span>(<span class="st">"rodzaje przewoźników"</span>)</span>
<span id="cb38-72"><a href="#cb38-72"></a>carriers</span>
<span id="cb38-73"><a href="#cb38-73"></a><span class="in">```</span></span>
<span id="cb38-74"><a href="#cb38-74"></a></span>
<span id="cb38-75"><a href="#cb38-75"></a>*wspomagając się danymi z internetu, United ma skrót UA, American - AA, natomiast delta - DL*</span>
<span id="cb38-76"><a href="#cb38-76"></a></span>
<span id="cb38-77"><a href="#cb38-77"></a><span class="in">```{r linie lotnicze 2}</span></span>
<span id="cb38-78"><a href="#cb38-78"></a>uad <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(carrier <span class="sc">==</span> <span class="st">'UA'</span> <span class="sc">|</span> carrier <span class="sc">==</span> <span class="st">'AA'</span> <span class="sc">|</span> carrier <span class="sc">==</span> <span class="st">'DL'</span>)</span>
<span id="cb38-79"><a href="#cb38-79"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów zrealizowanych przez United, American lub delta: "</span>, <span class="fu">nrow</span>(uad))</span>
<span id="cb38-80"><a href="#cb38-80"></a><span class="in">```</span></span>
<span id="cb38-81"><a href="#cb38-81"></a></span>
<span id="cb38-82"><a href="#cb38-82"></a><span class="ss">* </span>**Wylatywały w lecie (Lipiec, Sierpień, Wrzesień)**</span>
<span id="cb38-83"><a href="#cb38-83"></a></span>
<span id="cb38-84"><a href="#cb38-84"></a><span class="in">```{r loty lato}</span></span>
<span id="cb38-85"><a href="#cb38-85"></a>summer <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(month <span class="sc">==</span> <span class="dv">7</span> <span class="sc">|</span> month <span class="sc">==</span> <span class="dv">8</span> <span class="sc">|</span> month <span class="sc">==</span> <span class="dv">9</span>)</span>
<span id="cb38-86"><a href="#cb38-86"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów zrealizowanych w lecie: "</span>, <span class="fu">nrow</span>(summer))</span>
<span id="cb38-87"><a href="#cb38-87"></a><span class="in">```</span></span>
<span id="cb38-88"><a href="#cb38-88"></a></span>
<span id="cb38-89"><a href="#cb38-89"></a><span class="ss">* </span>**Miały opóźnienie o co najmniej dwie godziny ale nie miały opóźnienia odlotu.**</span>
<span id="cb38-90"><a href="#cb38-90"></a></span>
<span id="cb38-91"><a href="#cb38-91"></a><span class="in">```{r opoznienie ale dobry odlot}</span></span>
<span id="cb38-92"><a href="#cb38-92"></a>arr_delay_wo_dep_delay <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(arr_delay <span class="sc">&gt;=</span> <span class="dv">120</span> <span class="sc">&amp;</span> dep_delay <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb38-93"><a href="#cb38-93"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów z opóźnieniem min. 2godzinnym, lecz ze startem na czas: "</span>, <span class="fu">nrow</span>(arr_delay_wo_dep_delay))</span>
<span id="cb38-94"><a href="#cb38-94"></a><span class="in">```</span></span>
<span id="cb38-95"><a href="#cb38-95"></a></span>
<span id="cb38-96"><a href="#cb38-96"></a><span class="ss">* </span>**Miały co najmniej godzinę opóźnienia ale odrobiły ponad 30 minut w trakcie lotu.**</span>
<span id="cb38-97"><a href="#cb38-97"></a></span>
<span id="cb38-98"><a href="#cb38-98"></a><span class="in">```{r nadrobione}</span></span>
<span id="cb38-99"><a href="#cb38-99"></a>made_up_during_flight <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>((dep_delay <span class="sc">&gt;=</span> <span class="dv">60</span>) <span class="sc">&amp;</span> (dep_delay<span class="sc">-</span>arr_delay <span class="sc">&lt;</span> <span class="dv">30</span>))</span>
<span id="cb38-100"><a href="#cb38-100"></a><span class="fu">cat</span>(<span class="st">"Ilość lotów z godzinnym opóźnieniem wylotu, lecz opóźnieniem przylotu o ponad pół godziny mniejszym: "</span>, <span class="fu">nrow</span>(made_up_during_flight))</span>
<span id="cb38-101"><a href="#cb38-101"></a><span class="in">```</span></span>
<span id="cb38-102"><a href="#cb38-102"></a></span>
<span id="cb38-103"><a href="#cb38-103"></a><span class="ss">* </span>**Posortuj loty by znaleźć loty z najdłuższym opóźnieniem odlotu. Znajdź loty, który odlatywały najwcześniej rano.**</span>
<span id="cb38-104"><a href="#cb38-104"></a></span>
<span id="cb38-105"><a href="#cb38-105"></a><span class="in">```{r najwczesniej rano}</span></span>
<span id="cb38-106"><a href="#cb38-106"></a></span>
<span id="cb38-107"><a href="#cb38-107"></a>sorted_del <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(dep_delay))</span>
<span id="cb38-108"><a href="#cb38-108"></a>first_10_del <span class="ot">&lt;-</span> <span class="fu">head</span>(sorted_del, <span class="dv">10</span>)</span>
<span id="cb38-109"><a href="#cb38-109"></a><span class="fu">cat</span>(<span class="st">'10 wyników z największym opóźnieniem odlotu'</span>)</span>
<span id="cb38-110"><a href="#cb38-110"></a>first_10_del</span>
<span id="cb38-111"><a href="#cb38-111"></a></span>
<span id="cb38-112"><a href="#cb38-112"></a>sorted_early <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">arrange</span>(sched_dep_time, dep_time, dep_delay)</span>
<span id="cb38-113"><a href="#cb38-113"></a>first_10_early <span class="ot">&lt;-</span> <span class="fu">head</span>(sorted_early, <span class="dv">10</span>)</span>
<span id="cb38-114"><a href="#cb38-114"></a><span class="fu">cat</span>(<span class="st">'10 najwcześniejszych odlotów(wszystkie o 0:01), posortowane najmniejszym opoznieniem'</span>)</span>
<span id="cb38-115"><a href="#cb38-115"></a>first_10_early</span>
<span id="cb38-116"><a href="#cb38-116"></a><span class="in">```</span></span>
<span id="cb38-117"><a href="#cb38-117"></a></span>
<span id="cb38-118"><a href="#cb38-118"></a>*Musiałem oddzielić oba przypadki (najdłuższe opóźnienie, najwcześniej rano), ponieważ nie dostrzegłem koorelacji między nimi. Posortowane przez najdłuższe opóźnienie, gdzie każde się różniło, sprawiało że sortowanie przez najwcześniej rano nic nie zmieniało.*</span>
<span id="cb38-119"><a href="#cb38-119"></a></span>
<span id="cb38-120"><a href="#cb38-120"></a><span class="fu">### Zadanie 3.</span></span>
<span id="cb38-121"><a href="#cb38-121"></a>**Posortuj loty by znaleźć najszybsze połączenia.**</span>
<span id="cb38-122"><a href="#cb38-122"></a>*Najszybsze połączenia względem czasu lotu, drugorzędnie różnicy planowanego odlotu i przylotu*</span>
<span id="cb38-123"><a href="#cb38-123"></a></span>
<span id="cb38-124"><a href="#cb38-124"></a><span class="in">```{r najszybsze polaczenia}</span></span>
<span id="cb38-125"><a href="#cb38-125"></a>fastest <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">sched_air_time =</span> sched_arr_time <span class="sc">-</span> sched_dep_time) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(air_time, sched_air_time)</span>
<span id="cb38-126"><a href="#cb38-126"></a>first_10_fastest <span class="ot">&lt;-</span> <span class="fu">head</span>(fastest, <span class="dv">10</span>)</span>
<span id="cb38-127"><a href="#cb38-127"></a><span class="fu">cat</span>(<span class="st">'Najszybsze połączenia:'</span>)</span>
<span id="cb38-128"><a href="#cb38-128"></a>first_10_fastest</span>
<span id="cb38-129"><a href="#cb38-129"></a><span class="in">```</span></span>
<span id="cb38-130"><a href="#cb38-130"></a></span>
<span id="cb38-131"><a href="#cb38-131"></a><span class="fu">### Zadanie 4.</span></span>
<span id="cb38-132"><a href="#cb38-132"></a>**Czy każdego dnia 2013 odbył się co najmniej jeden lot?**</span>
<span id="cb38-133"><a href="#cb38-133"></a></span>
<span id="cb38-134"><a href="#cb38-134"></a><span class="in">```{r 2013 loty}</span></span>
<span id="cb38-135"><a href="#cb38-135"></a>flights_data <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2013</span>) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">paste</span>(month, day, <span class="st">'2013'</span>, <span class="at">sep =</span> <span class="st">"-"</span>))</span>
<span id="cb38-136"><a href="#cb38-136"></a><span class="co"># scalam miesiac i dzien z roku 2013 w jedna kolumne data</span></span>
<span id="cb38-137"><a href="#cb38-137"></a></span>
<span id="cb38-138"><a href="#cb38-138"></a>daily_flights_summary <span class="ot">&lt;-</span> flights_data <span class="sc">|&gt;</span> <span class="fu">arrange</span>(date) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">any_flight =</span> <span class="fu">n</span>() <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span>any_flight)</span>
<span id="cb38-139"><a href="#cb38-139"></a><span class="co"># tworze ramke danych z kolumna daty oraz warunkiem czy jakikolwiek lot odbyl sie tego dnia</span></span>
<span id="cb38-140"><a href="#cb38-140"></a><span class="fu">cat</span>(<span class="st">"Tabeka z datami, których nie odbł się żaden lot:"</span>)</span>
<span id="cb38-141"><a href="#cb38-141"></a>daily_flights_summary</span>
<span id="cb38-142"><a href="#cb38-142"></a></span>
<span id="cb38-143"><a href="#cb38-143"></a><span class="in">```</span></span>
<span id="cb38-144"><a href="#cb38-144"></a></span>
<span id="cb38-145"><a href="#cb38-145"></a>*W 2013 nie było dnia w którym żaden lot by się nie odbył.*</span>
<span id="cb38-146"><a href="#cb38-146"></a></span>
<span id="cb38-147"><a href="#cb38-147"></a><span class="fu">### Zadanie 5.</span></span>
<span id="cb38-148"><a href="#cb38-148"></a>**Które loty pokonały największy dystans a które najkrótszy?**</span>
<span id="cb38-149"><a href="#cb38-149"></a></span>
<span id="cb38-150"><a href="#cb38-150"></a><span class="in">```{r dystans}</span></span>
<span id="cb38-151"><a href="#cb38-151"></a>length_of_flight <span class="ot">&lt;-</span> fl <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(distance))</span>
<span id="cb38-152"><a href="#cb38-152"></a>longest <span class="ot">&lt;-</span> <span class="fu">head</span>(length_of_flight, <span class="dv">10</span>)</span>
<span id="cb38-153"><a href="#cb38-153"></a>shortest <span class="ot">&lt;-</span> <span class="fu">tail</span>(length_of_flight, <span class="dv">10</span>)</span>
<span id="cb38-154"><a href="#cb38-154"></a></span>
<span id="cb38-155"><a href="#cb38-155"></a><span class="fu">cat</span>(<span class="st">'Najdłuższe loty względem dystansu:'</span>)</span>
<span id="cb38-156"><a href="#cb38-156"></a>longest</span>
<span id="cb38-157"><a href="#cb38-157"></a></span>
<span id="cb38-158"><a href="#cb38-158"></a><span class="fu">cat</span>(<span class="st">'Najkrótsze loty względem dystansu:'</span>)</span>
<span id="cb38-159"><a href="#cb38-159"></a>shortest</span>
<span id="cb38-160"><a href="#cb38-160"></a><span class="in">```</span></span>
<span id="cb38-161"><a href="#cb38-161"></a></span>
<span id="cb38-162"><a href="#cb38-162"></a><span class="fu">### Zadanie 6.</span></span>
<span id="cb38-163"><a href="#cb38-163"></a>**Czy kolejność używania filter() i arrange() ma znaczenie jeśli używasz obydwu? Dlaczego tak/nie? Weź pod uwagę zarówno rezultaty jak też i zużycie zasobów.**</span>
<span id="cb38-164"><a href="#cb38-164"></a></span>
<span id="cb38-165"><a href="#cb38-165"></a>*Ma znaczenie, pierwszorzędnie to widać biorąc pod uwagę zużycie zasobów. Wybierając początkowo funkcję filter(), od razu pracujemy na mniejszym zbiorze danych, przez co arrange() ma mniejszą ilość danych do posortowania i optymalizuje to czas wykonania.*<span class="kw">&lt;br</span> <span class="kw">/&gt;&lt;br</span> <span class="kw">/&gt;</span></span>
<span id="cb38-166"><a href="#cb38-166"></a>*Zamieniając kolejność, początkowo sortując ramkę danych, dane są sortowane przed zastosowaniem filtra, co zmieni kolejność przefiltrowanych wyników.*</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>